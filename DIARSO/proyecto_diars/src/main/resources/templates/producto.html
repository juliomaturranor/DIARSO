<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}" />
<script type="text/javascript" th:src="@{/js/jquery-3.5.1.min.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script th:src="@{/js/funciones.js}"></script>	
</head>
<body>
	<div class="container">
		<div>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
				<a class="navbar-brand" href="/catalogo">Bodega</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item active"><a class="nav-link" href="/catalogo">Home<span
								class="sr-only">(current)</span></a></li>
						<li class="nav-item"><a class="nav-link disabled" href="#">Carrito
								de compras</a></li>
						<li class="nav-item"><a class="nav-link " href="#"
							tabindex="-1">Acerca de la Bodega</a></li>
					</ul>
					<form th:action="@{/pnombre}" th:object="${producto}" class="form-inline my-2 my-lg-0" method="GET" >
						<input class="form-control mr-sm-2" type="text" th:field="*{nombre}" 
							placeholder="Buscar">
						<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
					</form>
					<ul class="navbar-nav">
						<li class="nav-item dropdown"><a
							class="nav-link dropdown-toggle" th:href="@{/}"
							id="navbarDropdown" role="button" data-toggle="dropdown"
							aria-haspopup="true"> Admin</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item disable" href="#">user</a> <a
									class="dropdown-item" th:href="@{/lproducto}">Ver Productos</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" th:href="@{/}">Cerrar Sesion</a>
							</div></li>
					</ul>
				</div>
			</nav>
		</div>
		<br>

		<table class="table">
			<thead class="thead-dark">
				<tr>
					<th>ID</th>
					<th>Nombre</th>
					<th>Cantidad</th>
					<th>Precio</th>
					<th>Descripcion</th>
					<th>Categoria</th>
					<th>Estado</th>
					<th>Acciones</th>
				</tr>
			</thead>
			<tbody>
				<tr class="col-md-10" th:each="prod:${productos}">
					<td th:text="${prod.idproducto}"></td>
					<td th:text="${prod.nombre}"></td>
					<td th:text="${prod.cantidad}"></td>
					<td th:text="${prod.precio}"></td>
					<td th:text="${prod.descripcion}"></td>
					<td th:text="${prod.categoria.nombre}"></td>
					<td th:text="${prod.estado}">	<td>
					<a th:href="@{/editar/}+${prod.idproducto}" class="btn btn-success">Editar</a>
					<a th:onclick="eliminar([[${prod.idproducto}]])" class="btn btn-outline-danger">Eliminar</a>
					</td>
				</tr>
			</tbody>
		</table>
		<br>
		<a th:href="@{/aproducto}" class="btn btn-primary">Agregar</a>
	</div>
</body>
</html>